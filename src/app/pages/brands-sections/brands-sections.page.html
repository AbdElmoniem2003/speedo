<ion-header class="custom-header ">

  <ion-toolbar>
    <ion-button class=" cart" fill="clear" routerLink="/cart" slot="end">
      @if((cartService.items?.length)){
      <span>{{cartService.items?.length}}</span>
      }
      <ion-img src="../../../assets/imgs/cart.svg"></ion-img>
    </ion-button>

    <ion-button slot="start" fill="clear" (click)="navCtrl.pop()">
      <ion-icon name="chevron-back" slot="icon-only" color="dark"></ion-icon>
    </ion-button>
    <ion-label slot="start">
      @if(customView=='offers'){العروض}
      @if(customView=='categories'){الأقسام}
      @if(customView=='brands'){البراندات}
    </ion-label>

  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-refresher slot="fixed" (ionRefresh)="refresh($event)" pullFactor="0.8" pullMin="60" pullMax="120">
    <ion-refresher-content refreshingSpinner="bubbles"></ion-refresher-content>
  </ion-refresher>

  <div class="container">

    <!-- Empty Ele -->
    @if(empty){
    <div class="empty fade-in">
      <ion-icon [src]="'../../../assets/imgs/logo-icon.svg'"></ion-icon>
      <h3 style="text-align: center;">...</h3>
    </div>
    }


    @if(brands.length){

    <div class="brands">
      @for (brand of brands; track $index) {
      <div class="brand" (click)="toSection('brand',brand)">
        <app-custom-image [mainImg]="brand.image"></app-custom-image>
      </div>
      }
    </div>

    }

    @if(categories.length){
    <div class="sections">
      @for (category of categories; track $index) {
      <div class="section" (click)="toSection('section',category)">
        <app-custom-image [mainImg]="category.image"></app-custom-image>
        <p> {{category.name}}</p>
      </div>
      }
    </div>
    }

    @if(offers.length){
    <div class="offers">

      @for (offer of offers; track $index) {
      <div class="offer" (click)="toSection('offer',offer)">
        <app-custom-image [mainImg]="offer.image" [altImg]="'../../../assets/imgs/logo-cover.png'"></app-custom-image>
        <ion-button class="no-color-button">
          <ion-label>تفقد المنتجات</ion-label>
          <ion-icon name="chevron-back"></ion-icon>
        </ion-button>
      </div>
      }

    </div>
    }


  </div>


</ion-content>